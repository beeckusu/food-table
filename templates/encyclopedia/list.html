{% extends 'base.html' %}
{% load static %}

{% block title %}Encyclopedia - Food Table{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/encyclopedia_tree.css' %}">
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="mb-4">Encyclopedia</h1>
        <p class="lead">Browse our hierarchical collection of food knowledge entries</p>
    </div>
</div>

{% if entries %}
<!-- Tree Controls -->
<div class="tree-controls">
    <button type="button" class="tree-control-btn" id="expand-all-btn" aria-label="Expand all entries">
        <i class="bi bi-arrows-expand" aria-hidden="true"></i>
        Expand All
    </button>
    <button type="button" class="tree-control-btn" id="collapse-all-btn" aria-label="Collapse all entries">
        <i class="bi bi-arrows-collapse" aria-hidden="true"></i>
        Collapse All
    </button>
</div>

<!-- Tree View -->
<div role="tree" aria-label="Encyclopedia entries hierarchical view">
    <ul class="encyclopedia-tree">
        {% for entry in entries %}
            {% include 'encyclopedia/tree_node.html' with entry=entry %}
        {% endfor %}
    </ul>
</div>
{% else %}
<div class="alert alert-info">
    No encyclopedia entries found. Create some entries in the admin panel to get started.
</div>
{% endif %}
{% endblock %}
